<ng-container *ngIf="!isMobile">
    <div class="projectViewBG">
        <mat-card class="project-folder-card">
            <mat-card-title *ngIf="!currProjectId" class="project-folder-card-header">
                <button *ngIf="!!currFolder" mat-icon-button aria-label="Zurück" style="top: -4px" (click)="goBack()"><mat-icon>arrow_back</mat-icon></button>
                {{!!currFolder?'Ordner: '+currFolder:'Projekte '+displayProjectOrder}}
            </mat-card-title>
            <mat-card-title *ngIf="!!currProjectId" class="project-folder-card-header">
                <button mat-icon-button aria-label="Zurück" style="top: -4px" (click)="goBack()"><mat-icon>arrow_back</mat-icon></button>
                {{'Projektnummer: '+currProjectId}}
            </mat-card-title>
            <mat-card-content class="project-folder-card-content">
                <div class="controlPanel">
                    <div class="controlPanelButtonLayer">
                        <mat-form-field class="textSucheSeinVatter"><input matInput [(ngModel)]="textSearch" placeholder="Textsuche"></mat-form-field>
                        <div class="btn-group" dropdown [insideClick]="true">
                            <button dropdownToggle type="button" class="btn btn-primary dropdown-toggle">
                                Filtern <span class="caret"></span>
                            </button>
                            <ul *dropdownMenu class="dropdown-menu" role="menu">
                                <li role="menuitem">
                                    <mat-checkbox class="cbidd" [(ngModel)]="filterReserved" (change)="reservedFilterChange()">
                                        <span style="font-weight: normal">unter Vorbehalt</span>
                                    </mat-checkbox>
                                </li>
                                <li role="menuitem">
                                    <mat-checkbox class="cbidd" [(ngModel)]="filterZeroTTA" (change)="zeroFilterChange()">
                                        <span style="font-weight: normal">Planbedarf</span>
                                    </mat-checkbox>
                                </li>
                                <li role="menuitem">
                                    <mat-checkbox class="cbidd" [(ngModel)]="filterCompleted" (change)="completedFilterChange()">
                                        <span style="font-weight: normal">Beendet</span>
                                    </mat-checkbox>
                                </li>
                            </ul>
                        </div>
                        <div class="btn-group" dropdown [insideClick]="true">
                            <button dropdownToggle type="button" class="btn btn-primary dropdown-toggle">
                                Sortieren <span class="caret"></span>
                            </button>
                            <ul *dropdownMenu class="dropdown-menu" role="menu">
                                <mat-radio-group [(ngModel)]="sortBy" (change)="sortChanged()">
                                    <li role="menuitem">
                                        <mat-radio-button class="cbidd" [value]="'createdAt'">
                                            <span style="font-weight: normal">chronologisch</span>
                                        </mat-radio-button>
                                    </li>
                                    <li role="menuitem">
                                        <mat-radio-button class="cbidd" [value]="'name'">
                                            <span style="font-weight: normal">alphabtisch</span>
                                        </mat-radio-button>
                                    </li>
                                    <li role="menuitem">
                                        <mat-radio-button class="cbidd" [value]="'identifier'">
                                            <span style="font-weight: normal">nach Identifikator</span>
                                        </mat-radio-button>
                                    </li>
                                </mat-radio-group>
                                <li class="divider dropdown-divider"></li>
                                <mat-radio-group [(ngModel)]="sortDesc" (change)="sortDirectionChanged()">
                                    <li role="menuitem">
                                        <mat-radio-button class="cbidd" [value]="false">
                                            <span style="font-weight: normal">aufsteigend</span>
                                        </mat-radio-button>
                                    </li>
                                    <li role="menuitem">
                                        <mat-radio-button class="cbidd" [value]="true">
                                            <span style="font-weight: normal">absteigend</span>
                                        </mat-radio-button>
                                    </li>
                                </mat-radio-group>
                            </ul>
                        </div>
                    </div>
                    <div class="controlPanelButtonLayer">
                        <button mat-raised-button color="primary" (click)="addProjectButtonClicked()">
                            <mat-icon>add_circle_outline</mat-icon>Projekt hinzufügen
                        </button>
                    </div>
                </div>
                <mat-paginator *ngIf="!disablePaginators" showFirstLastButtons [length]="paginatorLength"
                    [pageSize]="paginatorPageSize" [pageIndex]="paginatorPageIndex" [pageSizeOptions]="paginatorPageSizeOptions"
                    (page)="paginatorChanged($event)">
                </mat-paginator>
                <ng-container *ngFor="let project of projectListPaginated">
                    <mat-card class="project-card" [style.animation]="!isDeleting(project.docId) ? 'wobble-hor-bottom 0.4s both' : 'fade-out 1s ease-out both'" [style.color]="getMostReadableFontColor(project.color)"
                        [style.background]="'linear-gradient(45deg, ' + project.color + ' 84%, ' + (!!project.markerColor?project.markerColor:project.color) + ' 0)'">
                        <mat-card-header class="project-card-header">
                            <mat-card-title>{{project.name}}</mat-card-title>
                            <mat-card-subtitle class="project-card-subtitle">{{project.identifier}}</mat-card-subtitle>
                        </mat-card-header>
                        <mat-divider></mat-divider><br>
                        <mat-card-content>
                            <span>duration: {{project.duration}}</span><br>
                            <span>endless: {{project.endless}}</span><br>
                            <span>allocatedTime: {{project.allocatedTime}}</span><br>
                            <span>isConflicted: {{project.isConflicted}}</span><br>
                            <span>color: {{project.color}}</span><br>
                            <span>marker: {{project.marker}}</span><br>
                            <span>markerColor: {{project.markerColor}}</span><br>
                            <span>note: {{project.note}}</span><br>
                            <span>reserved: {{project.reserved}}</span><br>
                            <span>blockCode: {{project.blockCode}}</span><br>
                            <span>finished: {{project.finished}}</span><br>
                            <span (click)="changeCurrFolder(project.folder)">folder: {{project.folder}}</span><br>
                        </mat-card-content>
                        <mat-card-actions>
                            <button mat-button (click)="changeCurrProjectId(project.identifier)">Details</button>
                        </mat-card-actions>
                    </mat-card>
                </ng-container>
                <mat-paginator *ngIf="!disablePaginators && !disableBottomPaginator" showFirstLastButtons [length]="paginatorLength"
                    [pageSize]="paginatorPageSize" [pageIndex]="paginatorPageIndex" [pageSizeOptions]="paginatorPageSizeOptions"
                    (page)="paginatorChanged($event)">
                </mat-paginator>
            </mat-card-content>
        </mat-card>
    </div>
</ng-container>
<ng-container *ngIf="isMobile && isLandscape">
    <div class="projectViewBG">
        <p>project-view works on spl!</p>
    </div>
</ng-container>
<ng-container *ngIf="isMobile && !isLandscape">
    <div class="projectViewBG">
        <p>project-view works on spp!</p>
    </div>
</ng-container>